{
  "id": "text-animation-implementation",
  "content": "<p>Reactでテキストを1文字ずつアニメーション表示する方法を解説します。CSSカスタムプロパティとReactコンポーネントを組み合わせて実現します。</p><h3>1. ユーティリティ関数の実装</h3><pre><code>// textAnimation.jsx\nimport React from 'react';\n\nexport const splitTextToSpans = (text) => {\n  return text.split('').map((char, i) => (\n    &lt;span \n      key={i} \n      className=\"drop-animation\"\n      style={{ '--char-index': i }}\n    &gt;\n      {char}\n    &lt;/span&gt;\n  ));\n};</code></pre><p>この関数は以下の処理を行います：</p><ul><li>テキストを1文字ずつ分割</li><li>各文字をspanタグでラップ</li><li>CSSアニメーション用のクラスを付与</li><li>カスタムプロパティで文字のインデックスを設定</li></ul><h3>2. CSSアニメーションの実装</h3><pre><code>.drop-animation {\n  opacity: 0;\n  animation: dropIn 0.5s ease-out forwards;\n  animation-delay: calc(var(--char-index) * 0.1s);\n}\n\n@keyframes dropIn {\n  0% {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}</code></pre><h3>3. 使用例</h3><pre><code>import { splitTextToSpans } from '../utils/textAnimation';\n\nconst AnimatedText = () => {\n  return (\n    &lt;div&gt;\n      {splitTextToSpans('Hello, World!')}\n    &lt;/div&gt;\n  );\n};</code></pre><h3>4. 実装のポイント</h3><ul><li><strong>カスタムプロパティの活用</strong>: --char-indexを使用して各文字の遅延時間を制御</li><li><strong>アニメーションの最適化</strong>: transformとopacityのみを使用してパフォーマンスを確保</li><li><strong>Reactのキー管理</strong>: mapで生成する要素に適切なkeyを設定</li></ul><h3>5. 応用例</h3><p>この実装は以下のようなケースで活用できます：</p><ul><li>ページタイトルのアニメーション</li><li>ローディング時のテキストアニメーション</li><li>モーダル表示時の演出</li></ul><h3>6. パフォーマンスの考慮点</h3><p>大量の文字に対してアニメーションを適用する場合は、以下の点に注意が必要です：</p><ul><li>文字数が多い場合は遅延時間を調整</li><li>will-changeプロパティの適切な使用</li><li>アニメーション完了後のクリーンアップ</li></ul><p>このような実装により、シンプルながら効果的なテキストアニメーションを実現することができます。</p>"
}
