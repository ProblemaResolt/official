import{r as e,j as s,M as i,s as n}from"./main-BhXecGX5.js";const r=()=>{const r=e.useRef([]),[c,t]=e.useState(null),[l,d]=e.useState(null),[a,o]=e.useState(null);return e.useEffect((()=>{fetch("/official/data/careers.json").then((e=>{if(!e.ok)throw new Error("キャリアデータの読み込みに失敗しました");return e.json()})).then((e=>d(e))).catch((e=>{o(e.message)}))}),[]),e.useEffect((()=>{if(!l)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("timeline-item-visible")}))}),{threshold:.1});return r.current.forEach((s=>{s&&e.observe(s)})),()=>{r.current.forEach((s=>{s&&e.unobserve(s)}))}}),[l]),a?s.jsxs("div",{children:["Error: ",a]}):l?s.jsxs(s.Fragment,{children:[s.jsx(i,{title:"職務経歴",description:"職務経歴",keywords:"職務経歴, プロジェクト, 経験, ケーススタディ"}),s.jsx("section",{id:"career",className:"section",children:s.jsxs("div",{className:"container",children:[s.jsx("h2",{className:"section-title",children:n("職務経歴")}),s.jsx("div",{className:"timeline",children:l.map(((e,i)=>s.jsxs("div",{className:"timeline-item",ref:e=>r.current[i]=e,children:[s.jsx("div",{className:"timeline-info",children:s.jsx("span",{className:"timeline-period",children:e.period})}),s.jsx("div",{className:"timeline-marker"}),s.jsxs("div",{className:"timeline-content "+(c===i?"expanded":""),onClick:()=>e.projects&&(e=>{const s=r.current[e],i=c===e;t(i?null:e),s&&setTimeout((()=>{const e=s.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:e,behavior:"smooth"})}),i?0:50)})(i),children:[s.jsxs("div",{className:"timeline-header",children:[s.jsxs("div",{className:"timeline-title",children:[s.jsx("h3",{className:"timeline-company",children:e.company}),s.jsx("h4",{className:"timeline-position",children:e.position})]}),e.projects&&s.jsx("span",{className:"toggle-icon "+(c===i?"open":""),children:c===i?"−":"＋"})]}),s.jsx("p",{className:"timeline-duties",children:e.duties}),e.projects&&c===i&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"参加プロジェクト"}),s.jsx("div",{className:"projects-list",children:e.projects.map(((e,i)=>s.jsxs("div",{className:"project-item",children:[s.jsx("h4",{children:e.title}),s.jsxs("div",{className:"project-details",children:[s.jsxs("dl",{children:[s.jsx("dt",{children:"プロジェクト期間:"}),s.jsx("dd",{className:"project-period",children:e.period})]}),s.jsxs("dl",{children:[s.jsx("dt",{children:"業務内容:"}),s.jsx("dd",{className:"project-period",children:s.jsx("p",{children:e.description})})]}),s.jsxs("dl",{className:"project-info",children:[s.jsx("dt",{children:s.jsx("h5",{children:"担当業務："})}),s.jsxs("dd",{children:[s.jsx("ul",{children:e.tasks.map(((e,n)=>s.jsx("li",{children:e},`task-${i}-${n}`)))}),s.jsxs("p",{children:[s.jsx("strong",{children:"環境："})," ",e.environment]}),s.jsxs("p",{children:[s.jsx("strong",{children:"役割："})," ",e.role]})]})]})]})]},`project-${i}`)))})]})]})]},i)))})]})})]}):s.jsx("div",{children:"Loading..."})};export{r as default};
