import{r as e,u as s,j as i,M as r,s as c}from"./main-DGL4MO0D.js";const t=()=>{const t=e.useRef([]),[n,l]=e.useState(null),[a,o]=e.useState(null),[d,j]=e.useState(null),{t:h}=s();return e.useEffect((()=>{fetch("/official/data/careers.json").then((e=>{if(!e.ok)throw new Error(h("errors.careersLoadFailed"));return e.json()})).then((e=>o(e))).catch((e=>{j(e.message)}))}),[h]),e.useEffect((()=>{if(!a)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("timeline-item-visible")}))}),{threshold:.1});return t.current.forEach((s=>{s&&e.observe(s)})),()=>{t.current.forEach((s=>{s&&e.unobserve(s)}))}}),[a]),d?i.jsxs("div",{children:[h("common.errorPrefix")," ",d]}):a?i.jsxs(i.Fragment,{children:[i.jsx(r,{title:h("sections.career.meta.title"),description:h("sections.career.meta.description"),keywords:h("sections.career.meta.keywords")}),i.jsx("section",{id:"career",className:"section",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:c(h("sections.career.title"))}),i.jsx("div",{className:"timeline",children:a.map(((e,s)=>i.jsxs("div",{className:"timeline-item",ref:e=>t.current[s]=e,children:[i.jsx("div",{className:"timeline-info",children:i.jsx("span",{className:"timeline-period",children:e.period})}),i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content "+(n===s?"expanded":""),onClick:()=>e.projects&&(e=>{const s=t.current[e],i=n===e;l(i?null:e),s&&setTimeout((()=>{const e=s.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:e,behavior:"smooth"})}),i?0:50)})(s),children:[i.jsxs("div",{className:"timeline-header",children:[i.jsxs("div",{className:"timeline-title",children:[i.jsx("h3",{className:"timeline-company",children:e.company}),i.jsx("h4",{className:"timeline-position",children:e.position})]}),e.projects&&i.jsx("span",{className:"toggle-icon "+(n===s?"open":""),children:n===s?"−":"＋"})]}),i.jsx("p",{className:"timeline-duties",children:e.duties}),e.projects&&n===s&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:h("sections.career.projects.title")}),i.jsx("div",{className:"projects-list",children:e.projects.map(((e,s)=>i.jsxs("div",{className:"project-item",children:[i.jsx("h4",{children:e.title}),i.jsxs("div",{className:"project-details",children:[i.jsxs("dl",{children:[i.jsxs("dt",{children:[h("sections.career.projects.period"),":"]}),i.jsx("dd",{className:"project-period",children:e.period})]}),i.jsxs("dl",{children:[i.jsxs("dt",{children:[h("sections.career.projects.description"),":"]}),i.jsx("dd",{className:"project-period",children:i.jsx("p",{children:e.description})})]}),i.jsxs("dl",{className:"project-info",children:[i.jsx("dt",{children:i.jsx("h5",{children:h("sections.career.projects.tasks")})}),i.jsxs("dd",{children:[i.jsx("ul",{children:e.tasks.map(((e,r)=>i.jsx("li",{children:e},`task-${s}-${r}`)))}),i.jsxs("p",{children:[i.jsxs("strong",{children:[h("sections.career.projects.environment"),":"]})," ",e.environment]}),i.jsxs("p",{children:[i.jsxs("strong",{children:[h("sections.career.projects.role"),":"]})," ",e.role]})]})]})]})]},`project-${s}`)))})]})]})]},s)))})]})})]}):i.jsx("div",{children:h("common.loading")})};export{t as default};
