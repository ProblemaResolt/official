import{r as n,j as e}from"./main-CwlEUvoc.js";const u=()=>{const l=n.useRef([]),[r,h]=n.useState(null),[c,j]=n.useState(null),[a,p]=n.useState(null);n.useEffect(()=>{fetch("/official/data/careers.json").then(s=>{if(!s.ok)throw new Error("キャリアデータの読み込みに失敗しました");return s.json()}).then(s=>j(s)).catch(s=>{console.error("Error loading careers:",s),p(s.message)})},[]),n.useEffect(()=>{if(!c)return;const i=new IntersectionObserver(s=>{s.forEach(t=>{t.isIntersecting&&t.target.classList.add("timeline-item-visible")})},{threshold:.1});return l.current.forEach(s=>{s&&i.observe(s)}),()=>{l.current.forEach(s=>{s&&i.unobserve(s)})}},[c]);const x=i=>{const s=l.current[i],t=r===i;h(t?null:i),s&&setTimeout(()=>{const o=s.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:o,behavior:"smooth"})},t?0:50)};return a?e.jsxs("div",{children:["Error: ",a]}):c?e.jsx("section",{id:"career",className:"section",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{className:"section-title",children:"職務経歴"}),e.jsx("div",{className:"timeline",children:c.map((i,s)=>e.jsxs("div",{className:"timeline-item",ref:t=>l.current[s]=t,children:[e.jsx("div",{className:"timeline-info",children:e.jsx("span",{className:"timeline-period",children:i.period})}),e.jsx("div",{className:"timeline-marker"}),e.jsxs("div",{className:`timeline-content ${r===s?"expanded":""}`,onClick:()=>i.projects&&x(s),children:[e.jsxs("div",{className:"timeline-header",children:[e.jsxs("div",{className:"timeline-title",children:[e.jsx("h3",{className:"timeline-company",children:i.company}),e.jsx("h4",{className:"timeline-position",children:i.position})]}),i.projects&&e.jsx("span",{className:`toggle-icon ${r===s?"open":""}`,children:r===s?"−":"＋"})]}),e.jsx("p",{className:"timeline-duties",children:i.duties}),i.projects&&r===s&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"参加プロジェクト"}),e.jsx("div",{className:"projects-list",children:i.projects.map((t,d)=>e.jsxs("div",{className:"project-details",children:[e.jsx("h4",{children:t.title}),e.jsx("p",{className:"project-period",children:t.period}),e.jsx("p",{children:t.description}),e.jsxs("div",{className:"project-info",children:[e.jsx("h5",{children:"担当業務："}),e.jsx("ul",{children:t.tasks.map((m,o)=>e.jsx("li",{children:m},o))}),e.jsxs("p",{children:[e.jsx("strong",{children:"環境："})," ",t.environment]}),e.jsxs("p",{children:[e.jsx("strong",{children:"役割："})," ",t.role]})]})]},d))})]})]})]},s))})]})}):e.jsx("div",{children:"Loading..."})};export{u as default};
