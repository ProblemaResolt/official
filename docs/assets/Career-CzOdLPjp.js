import{r as e,j as i}from"./main-kMjZ763r.js";const n=()=>{const n=e.useRef([]),[l,c]=e.useState(null),[r,s]=e.useState(null),[d,a]=e.useState(null);e.useEffect((()=>{fetch("/official/data/careers.json").then((e=>{if(!e.ok)throw new Error("\u30ad\u30e3\u30ea\u30a2\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f");return e.json()})).then((e=>s(e))).catch((e=>{a(e.message)}))}),[]),e.useEffect((()=>{if(!r)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("timeline-item-visible")}))}),{threshold:.1});return n.current.forEach((i=>{i&&e.observe(i)})),()=>{n.current.forEach((i=>{i&&e.unobserve(i)}))}}),[r]);return d?i.jsxs("div",{children:["Error: ",d]}):r?i.jsx("section",{id:"career",className:"section",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"section-title",children:"\u8077\u52d9\u7d4c\u6b74"}),i.jsx("div",{className:"timeline",children:r.map(((e,r)=>i.jsxs("div",{className:"timeline-item",ref:e=>n.current[r]=e,children:[i.jsx("div",{className:"timeline-info",children:i.jsx("span",{className:"timeline-period",children:e.period})}),i.jsx("div",{className:"timeline-marker"}),i.jsxs("div",{className:"timeline-content "+(l===r?"expanded":""),onClick:()=>e.projects&&(e=>{const i=n.current[e],r=l===e;c(r?null:e),i&&setTimeout((()=>{const e=i.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:e,behavior:"smooth"})}),r?0:50)})(r),children:[i.jsxs("div",{className:"timeline-header",children:[i.jsxs("div",{className:"timeline-title",children:[i.jsx("h3",{className:"timeline-company",children:e.company}),i.jsx("h4",{className:"timeline-position",children:e.position})]}),e.projects&&i.jsx("span",{className:"toggle-icon "+(l===r?"open":""),children:l===r?"\u2212":"\uff0b"})]}),i.jsx("p",{className:"timeline-duties",children:e.duties}),e.projects&&l===r&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{children:"\u53c2\u52a0\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"}),i.jsx("div",{className:"projects-list",children:e.projects.map(((e,n)=>i.jsxs("p",{children:[i.jsx("h4",{children:e.title}),i.jsxs("div",{className:"project-details",children:[i.jsx("p",{className:"project-period",children:e.period}),i.jsx("p",{children:e.description}),i.jsxs("div",{className:"project-info",children:[i.jsx("h5",{children:"\u62c5\u5f53\u696d\u52d9\uff1a"}),i.jsx("ul",{children:e.tasks.map(((e,n)=>i.jsx("li",{children:e},n)))}),i.jsxs("p",{children:[i.jsx("strong",{children:"\u74b0\u5883\uff1a"})," ",e.environment]}),i.jsxs("p",{children:[i.jsx("strong",{children:"\u5f79\u5272\uff1a"})," ",e.role]})]})]},n)]})))})]})]})]},r)))})]})}):i.jsx("div",{children:"Loading..."})};export{n as default};
