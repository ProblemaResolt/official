{
  "content": "<h1>sitemap.xmlの作り方とSEOへの効果</h1>\n<p>sitemap.xmlは、Webサイト内のページ情報を検索エンジンに伝えるためのXMLファイルです。SEOとして非常に重要な役割を持ちます。</p>\n<h2>sitemap.xmlとは？</h2>\n<ul>\n<li>サイト内の全ページURLや更新日時、優先度などを記述したXMLファイル</li>\n<li>GoogleやBingなどの検索エンジンにクロールしてほしいページを明示できる</li>\n<li>サイト構造が複雑な場合や、動的生成ページが多い場合に特に有効</li>\n</ul>\n<h2>基本的なsitemap.xmlの例</h2>\n<pre><code class=\"language-xml\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\n  &lt;url&gt;\n    &lt;loc&gt;//example.com/&lt;/loc&gt;\n    &lt;priority&gt;1.0&lt;/priority&gt;\n    &lt;lastmod&gt;2025-05-20T13:00:00+09:00&lt;/lastmod&gt;\n    &lt;changefreq&gt;always&lt;/changefreq&gt;\n  &lt;/url&gt;\n  &lt;url&gt;\n    &lt;loc&gt;//example.com/blog/post-1&lt;/loc&gt;\n    &lt;priority&gt;0.8&lt;/priority&gt;\n    &lt;lastmod&gt;2025-05-19T10:00:00+09:00&lt;/lastmod&gt;\n    &lt;changefreq&gt;weekly&lt;/changefreq&gt;\n  &lt;/url&gt;\n&lt;/urlset&gt;\n</code></pre>\n<h2>SEOへの効果</h2>\n<ul>\n<li>サイト全体のページが効率よくインデックスされやすくなる</li>\n<li>新規ページや更新ページの発見が早くなる</li>\n<li>検索エンジンのクロール効率が向上</li>\n</ul>\n<h2>sitemap.xmlの自動生成例（Node.js）</h2>\n<p>ブログや動的サイトでは、手動でsitemap.xmlを管理するのは大変です。Node.jsスクリプトで自動生成する例を紹介します。</p>\n<pre><code class=\"language-js\">import { statSync, readFileSync, writeFileSync } from 'fs';\nimport { resolve, dirname } from 'path';\nimport { fileURLToPath } from 'url';\n\nconst BASE_URL = '//yourdomain.com';\nconst __dirname = dirname(fileURLToPath(import.meta.url));\nconst blogJsonPath = resolve(__dirname, '../public/data/blog-posts.json');\nconst sitemapPath = resolve(__dirname, '../public/sitemap.xml');\n\nconst staticPaths = [\n  '/', '/profile', '/blog', '/contact'\n];\n\nfunction getLastModForPath(filePath) {\n  try {\n    const stats = statSync(filePath);\n    return new Date(stats.mtime).toISOString();\n  } catch {\n    return new Date().toISOString();\n  }\n}\n\nfunction urlEntry(loc, lastmod) {\n  return `  &lt;url&gt;\\n    &lt;loc&gt;${loc}&lt;/loc&gt;\\n    &lt;priority&gt;1.0&lt;/priority&gt;\\n    &lt;lastmod&gt;${lastmod}&lt;/lastmod&gt;\\n    &lt;changefreq&gt;always&lt;/changefreq&gt;\\n  &lt;/url&gt;`;\n}\n\nfunction generateSitemap(blogPosts) {\n  let urls = staticPaths.map(p =&gt; urlEntry(`${BASE_URL}${p}`, getLastModForPath(resolve(__dirname, `../public${p === '/' ? '/index.html' : p + '.html'}`))));\n  blogPosts.forEach(post =&gt; {\n    urls.push(urlEntry(`${BASE_URL}/blog/${post.id}`, getLastModForPath(resolve(__dirname, `../public/data/${post.contentPath}`))));\n  });\n  return `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\\n&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\\n${urls.join('\\n')}\\n&lt;/urlset&gt;\\n`;\n}\n\nfunction main() {\n  const blogPosts = JSON.parse(readFileSync(blogJsonPath, 'utf-8'));\n  const xml = generateSitemap(blogPosts);\n  writeFileSync(sitemapPath, xml, 'utf-8');\n}\n\nmain();\n</code></pre>\n<h2>サーチコンソールへの登録</h2>\n<ol>\n<li>sitemap.xmlをサイトのルートに設置</li>\n<li>Google Search Consoleで「サイトマップの追加」からURLを登録</li>\n</ol>\n<hr>\n<p>sitemap.xmlを活用して、SEO効果を最大化しましょう！</p>\n"
}
